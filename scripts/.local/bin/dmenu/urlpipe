#!/bin/sh
# read text from stdin and extract and open web URLs from it.
# requires xurls and moreutils.

main()
{
    url="$(xurls | ifne dmenu -p 'Choose a URL')" || exit
    case "$(action)" in
        open) xdg-open "$url" ;;
        copy) printf '%s\n' "$url" | xclip -selection clipboard ;;
    esac
}

action()
{
    printf 'copy\nopen' | dmenu -p 'do what?'
}

main "$@"
