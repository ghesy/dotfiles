#!/bin/sh
[ -z "$*" ] && case $(printf 'Search\nWatch History\nSearch History\n' | dmenu -p ytfzf) in
    Search) s=$(dmenu -p 'Search YouTube:' <&-) || exit 1 ;;
    'Watch History') set -- -H ;;
    'Search History') set -- -q ;;
    *) exit 1 ;;
esac
p=$(getproxy)
exec $TERMINAL -e $(getproxy https://www.youtube.com) ytfzf -tl "$@" ${s:+"$s"}
